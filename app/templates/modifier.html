{% extends "main.html" %}
{% block body %}

<div class="container my-5">
    <div class="row justify-content-center align-items-center">

        <!-- BOUTTON POUR PASSER AU LIVRE PRÉCÉDENT -->
        <div class="col-auto d-flex align-items-center">
            {% if livre.id > 1 %}
            <a href="/modifier?id={{livre.id - 1}}" class="btn btn-outline-success" style="font-size: 24px; cursor: pointer; display: inline-block; text-align: center;">
                <i class="fa-solid fa-arrow-left"></i>
            </a>
            {% else %}
            <a href="/modifier?id={{max_id}}" class="btn btn-outline-success" style="font-size: 24px; cursor: pointer; display: inline-block; text-align: center;">
                <i class="fa-solid fa-arrow-left"></i>
            </a>

            {% endif %}
        </div>


        <!-- Main Content -->
        <div class=" col-md-8">
            <div style="position: relative!important; max-width:60vh; width: 100%; margin: auto;" class="listePage">

                <h1>Livre {{ livre.id }} :</h1>

                <br><br><br>

                <!-- FORM POUR MODIFIER LES INFOS D'UN LIVRE -->
                <form id="modifier" action="/liste" method="POST">



                    <input type="hidden" value="{{ livre['id'] }}" name="id"/>

                    <!-- LIVRE NOM -->
                    {{ macro.generateNewFormField("nom", livre.nom, livre.nom, true, "text", '', "Titre") }}
                    <br>


                    <!-- LIVRE AUTEUR -->
                    {{ macro.generateNewFormField("auteur", livre.auteur, livre.auteur, true, "text", '', "Auteur") }}
                    <br>

                    <!-- LIVRE EDITEUR -->
                    {{ macro.generateNewFormField("editeur", livre.editeur, livre.editeur, true, "text", '', "Editeur") }}
                    <br>

                    <!-- if is_admin or is_owner -->
                    {% if 1 %}

                    <!-- LIVRE PRIX -->
                    {{ macro.generateNewFormField("prix", livre.price, livre.price, true, "number", "0.01", "Prix", 1) }}

                    {% else %}
                    <div class="">
                        <input type="text"
                               style="background-color: lightgray;"
                               class="form-control shadow-lg"
                               value="{{livre.price}} €"
                               required disabled>
                    </div>
                    {% endif %}
                    <br>

                    {{ macro.generateNewFormField("stock", livre.stock, livre.stock, true, "number", "1", "stock") }}

                    <br>

                    {{ macro.generateFormSubmit("btn btn-outline-success", "Modifier", true) }}

                </form>

            </div>
        </div>



        <!-- BOUTTON POUR PASSER AU LIVRE SUIVANT -->
        <div class="col-auto d-flex align-items-center">


            {% if livre.id < max_id %}
            <a href="/modifier?id={{livre.id + 1}}" class="btn btn-outline-success" style="font-size: 24px; cursor: pointer; display: inline-block; text-align: center;">
                <i class="fa-solid fa-arrow-right"></i>
            </a>
            {% else %}
            <a href="/modifier?id=1" class="btn btn-outline-success" style="font-size: 24px; cursor: pointer; display: inline-block; text-align: center;">
                <i class="fa-solid fa-arrow-right"></i>
            </a>
            {% endif %}
        </div>
    </div>
</div>

{% endblock %}

