
{% extends "main.html" %}
{% block body %}

<br>

<div class="listePage responsiveBox">

    <i style="font-size:9vh; color:rgba(25, 135, 84, 0.5);" class="fa-solid fa-book-journal-whills"></i>

    <br><br><br>

    <div>

        <br>

        <div>

            <!-- FORM TO CREATE A BOOK -->
            <form id="mainForm">

                <!-- NOM -->
                {{ macro.generateFormField("nom", '', "Nom du livre", false) }}

                <br>

                <!-- AUTEUR -->
                {{ macro.generateFormField("auteur", '', 'Auteur', false) }}

                <br>

                <!-- EDITEUR -->
                {{ macro.generateFormField("editeur", '', 'Editeur', false) }}

                <br><br>
                <input type="hidden" name="boolContinue" id="continueInput">
                <!-- BUTTONS -->

                    <div class="form-group">
                        <!-- Bouton retour ? -->
                        <a href="/liste" class="btn btn-outline-secondary">Retour</a>
                        <button type="submit" class="btn btn-outline-success" id="submitSend"> Envoyer </button>
                        <button type="submit" class="btn btn-outline-success" id="submitContinue"> Envoyer et continuer </button>
                    </div>


            </form>

        </div>
    </div>
</div>


<script>
// Add event listener to the "Envoyer" button
document.getElementById('submitSend').addEventListener('click', function() {
    var form = document.getElementById('mainForm');
    // Set the form action to '/ajouter'
    form.action = '/ajouter';
    form.method = 'POST';

    // !continue
    document.getElementById('continueInput').value = 'false';
    // Submit the form
    form.submit();
});

// Add event listener to the "Envoyer et continuer" button
document.getElementById('submitContinue').addEventListener('click', function() {
    var form = document.getElementById('mainForm');
    // Set the form action to the other API URL
    form.action = '/ajouter';
    form.method = 'POST';

    // continue
    document.getElementById('continueInput').value = 'true';
    // Submit the form
    form.submit();
});
</script>

{% endblock %}
